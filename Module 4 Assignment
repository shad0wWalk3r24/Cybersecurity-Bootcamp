Instructions
For each of the following steps, you will need to run the correct command and confirm the results. Take notes of those results as you will be using it for the quiz. 
Step 1: Ensure Permissions on Sensitive Files
The /etc/ directory is where system configuration files exist. Start by navigating to this directory with cd /etc/.
Inspect the file permissions of each of the following files. You should have already done this during an in-class activity, but double check them now. If any file's permissions do not match the descriptions listed here, update the file's permissions.
    1. Permissions on /etc/shadow should allow only root read and write access.
        a. command to check current permissions: ls -l /etc/shadow
        b. current permissions: -rw-r-----
        c. command to change permissions: sudo chmod 600 /etc/shadow
        d. command to verify permissions changed: ls -l /etc/shadow
        e. updated permissions: -rw-------
    2. Permissions on /etc/gshadow should allow only root read and write access.
        a. check current permissions: ls -l /etc/gshadow
        b. current permissions: -rw-r-----
        c. command to change permissions: sudo chmod 600 /etc/gshadow
        d. command to verify permissions changed: ls -l /etc/gshadow
        e. updated permissions: -rw-------
    3. Permissions on /etc/group should allow root read and write access, and allow everyone else read access only.
        a. commamd to check current permissions: ls -l /etc/group
        b. current permissions: -rw-r--r--
        c. command to change permissions: no need to change permissions
        d. command to verify permissions changed: n/a
        e. verify permissions changed: n/a 
    4. Permissions on /etc/passwd should allow root read and write access, and allow everyone else read access only.
        a. command to check current permissions: ls -l /etc/passwd
        b. current permissions: -rw-r--r--
        c. command to change permissions: no need to change permissions
        d. command to veify permissions changed: n/a
        e. updated permissions: n/a

hint 
Run the following command to view the file permissions: ls -l <file>.
If permissions need changing or modifying, use the chmod command.
Step 2: Create User Accounts
In this step, you'll set up various users in the system. For this exercise, use the useradd command. Research this command to determine how to best use this tool to create the user accounts. The necessary commands do not require that you work from a specific directory.
    1. Add user accounts for sam, joe, amy, sara, and admin1.
        a. sudo adduser sam
        b. sudo adduser joe
        c. sudo adduser amy
        d. sudo adduser sara
        e. sudo usermod admin1
hint 
In order to add users to the system, you need to run the command with sudo.
    2. Make sure that only the admin1 user has general sudo group access. This requires a command that will allow user modifications.
      a. sudo adduser -aG sudo admin1  
Step 3: Create User Group and Collaborative Folder
Now, you'll run the commands to fully set up a group on your system.
This requires you to create a group, add users to it, create a shared group folder, and set the group folder owners for this shared folder.  
    1. Add the group engineers to the system.
        1. sudo groupadd engineers 
    2. Add users sam, joe, amy, and sara to the managed group. The process is similar to the one you used to add admin1 to the sudo group in the previous step. watch this video: https://www.youtube.com/watch?v=GnlgAD8-GhE
        1. sudo usermod -aG engineers amy
        2. sudo usermod -aG engineers joe
        3. sudo usermod -aG engineers sara
        4. sudo usermod -aG engineers sam
    3. Create a shared folder for this group: /home/engineers.
        1. mkdir /home/engineers
    4. Change ownership on the new engineers' shared folder to the engineers group.
        1. sudo chown :engineeers engineers 
Step 4: Lynis Auditing
The final step on your administrator's list involves running an audit against the system in order to harden it. You'll use the system and security auditing tool Lynis to do so.
    1. Install the Lynis package to your system if it is not already installed.
        1. already installed 
    2. Check the Lynis documentation for instructions on how to run a system audit.
        1. https://www.howtogeek.com/674288/how-to-audit-your-linux-systems-security-with-lynis/
        2. https://opensource.com/article/20/5/linux-security-lynis
        3. man lynis
    3. Run a Lynis system audit with sudo.
        1. sudo lynis audit system
        2. ls -l /var/log/lynis.log
    4. Provide a report from the Lynis output with recommendations for how to harden the system.
 -[ Lynis 3.0.9 Results ]-

  Warnings (2):
  ----------------------------
  ! Found one or more vulnerable packages. [PKGS-7392] 
      https://cisofy.com/lynis/controls/PKGS-7392/

  ! Found some information disclosure in SMTP banner (OS or software name) [MAIL-8818] 
      https://cisofy.com/lynis/controls/MAIL-8818/

  Suggestions (58):
  ----------------------------
  * Version of Lynis outdated, consider upgrading to the latest version [LYNIS] 
      https://cisofy.com/lynis/controls/LYNIS/

  * Set a password on GRUB boot loader to prevent altering boot configuration (e.g. boot in single user mode without password) [BOOT-5122] 
      https://cisofy.com/lynis/controls/BOOT-5122/

  * Consider hardening system services [BOOT-5264] 
    - Details  : Run '/usr/bin/systemd-analyze security SERVICE' for each service
      https://cisofy.com/lynis/controls/BOOT-5264/

  * If not required, consider explicit disabling of core dump in /etc/security/limits.conf file [KRNL-5820] 
      https://cisofy.com/lynis/controls/KRNL-5820/

  * Check PAM configuration, add rounds if applicable and expire passwords to encrypt with new values [AUTH-9229] 
      https://cisofy.com/lynis/controls/AUTH-9229/

  * Configure password hashing rounds in /etc/login.defs [AUTH-9230] 
      https://cisofy.com/lynis/controls/AUTH-9230/

  * Install a PAM module for password strength testing like pam_cracklib or pam_passwdqc or libpam-passwdqc [AUTH-9262] 
      https://cisofy.com/lynis/controls/AUTH-9262/

  * When possible set expire dates for all password protected accounts [AUTH-9282] 
      https://cisofy.com/lynis/controls/AUTH-9282/

  * Look at the locked accounts and consider removing them [AUTH-9284] 
      https://cisofy.com/lynis/controls/AUTH-9284/

  * Configure minimum password age in /etc/login.defs [AUTH-9286] 
      https://cisofy.com/lynis/controls/AUTH-9286/

  * Configure maximum password age in /etc/login.defs [AUTH-9286] 
      https://cisofy.com/lynis/controls/AUTH-9286/

  * Default umask in /etc/login.defs could be more strict like 027 [AUTH-9328] 
      https://cisofy.com/lynis/controls/AUTH-9328/

  * To decrease the impact of a full /home file system, place /home on a separate partition [FILE-6310] 
      https://cisofy.com/lynis/controls/FILE-6310/

  * To decrease the impact of a full /tmp file system, place /tmp on a separate partition [FILE-6310] 
      https://cisofy.com/lynis/controls/FILE-6310/

  * To decrease the impact of a full /var file system, place /var on a separate partition [FILE-6310] 
      https://cisofy.com/lynis/controls/FILE-6310/

  * Check 9 files in /tmp which are older than 90 days [FILE-6354] 
      https://cisofy.com/lynis/controls/FILE-6354/

  * The JBD (Journal Block Device) driver is not loaded. [FILE-6398] 
    - Details  : Since boot-time, you have not been using any filesystems with journaling. Alternatively, reason could be driver is blacklisted.
      https://cisofy.com/lynis/controls/FILE-6398/

  * Disable drivers like USB storage when not used, to prevent unauthorized storage or data theft [USB-1000] 
      https://cisofy.com/lynis/controls/USB-1000/

  * Check DNS configuration for the dns domain name [NAME-4028] 
      https://cisofy.com/lynis/controls/NAME-4028/

  * Purge old/removed packages (2 found) with aptitude purge or dpkg --purge command. This will cleanup old configuration files, cron jobs and startup scripts. [PKGS-7346] 
      https://cisofy.com/lynis/controls/PKGS-7346/

  * Install debsums utility for the verification of packages with known good database. [PKGS-7370] 
      https://cisofy.com/lynis/controls/PKGS-7370/

  * Update your system with apt-get update, apt-get upgrade, apt-get dist-upgrade and/or unattended-upgrades [PKGS-7392] 
      https://cisofy.com/lynis/controls/PKGS-7392/

  * Install package apt-show-versions for patch management purposes [PKGS-7394] 
      https://cisofy.com/lynis/controls/PKGS-7394/

  * Determine if protocol 'dccp' is really needed on this system [NETW-3200] 
      https://cisofy.com/lynis/controls/NETW-3200/

  * Determine if protocol 'sctp' is really needed on this system [NETW-3200] 
      https://cisofy.com/lynis/controls/NETW-3200/

  * Determine if protocol 'rds' is really needed on this system [NETW-3200] 
      https://cisofy.com/lynis/controls/NETW-3200/

  * Determine if protocol 'tipc' is really needed on this system [NETW-3200] 
      https://cisofy.com/lynis/controls/NETW-3200/

  * Access to CUPS configuration could be more strict. [PRNT-2307] 
      https://cisofy.com/lynis/controls/PRNT-2307/

  * You are advised to hide the mail_name (option: smtpd_banner) from your postfix configuration. Use postconf -e or change your main.cf file (/etc/postfix/main.cf) [MAIL-8818] 
      https://cisofy.com/lynis/controls/MAIL-8818/

  * Disable the 'VRFY' command [MAIL-8820:disable_vrfy_command] 
    - Details  : disable_vrfy_command=no
    - Solution : run postconf -e disable_vrfy_command=yes to change the value
      https://cisofy.com/lynis/controls/MAIL-8820/

  * Check iptables rules to see which rules are currently not used [FIRE-4513] 
      https://cisofy.com/lynis/controls/FIRE-4513/

  * Install Apache mod_evasive to guard webserver against DoS/brute force attempts [HTTP-6640] 
      https://cisofy.com/lynis/controls/HTTP-6640/

  * Install Apache modsecurity to guard webserver against web application attacks [HTTP-6643] 
      https://cisofy.com/lynis/controls/HTTP-6643/

  * Consider setting 'TraceEnable Off' in /etc/apache2/conf-available/security.conf [HTTP-6660] 
    - Details  : Set TraceEnable to 'On' or 'extended' for testing and diagnostic purposes only.
      https://cisofy.com/lynis/controls/HTTP-6660/

  * Consider setting 'TraceEnable Off' in /etc/apache2/conf-enabled/security.conf [HTTP-6660] 
    - Details  : Set TraceEnable to 'On' or 'extended' for testing and diagnostic purposes only.
      https://cisofy.com/lynis/controls/HTTP-6660/

  * Add HTTPS to nginx virtual hosts for enhanced protection of sensitive data and privacy [HTTP-6710] 
      https://cisofy.com/lynis/controls/HTTP-6710/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : AllowTcpForwarding (set YES to NO)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : ClientAliveCountMax (set 3 to 2)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : LogLevel (set INFO to VERBOSE)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : MaxAuthTries (set 6 to 3)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : MaxSessions (set 10 to 2)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : Port (set 22 to )
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : TCPKeepAlive (set YES to NO)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : X11Forwarding (set YES to NO)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Consider hardening SSH configuration [SSH-7408] 
    - Details  : AllowAgentForwarding (set YES to NO)
      https://cisofy.com/lynis/controls/SSH-7408/

  * Enable logging to an external logging host for archiving purposes and additional protection [LOGG-2154] 
      https://cisofy.com/lynis/controls/LOGG-2154/

  * Check what deleted files are still in use and why. [LOGG-2190] 
      https://cisofy.com/lynis/controls/LOGG-2190/

  * If there are no xinetd services required, it is recommended that the daemon be removed [INSE-8100] 
      https://cisofy.com/lynis/controls/INSE-8100/

  * Add a legal banner to /etc/issue, to warn unauthorized users [BANN-7126] 
      https://cisofy.com/lynis/controls/BANN-7126/

  * Add legal banner to /etc/issue.net, to warn unauthorized users [BANN-7130] 
      https://cisofy.com/lynis/controls/BANN-7130/

  * Enable process accounting [ACCT-9622] 
      https://cisofy.com/lynis/controls/ACCT-9622/

  * Enable sysstat to collect accounting (no results) [ACCT-9626] 
      https://cisofy.com/lynis/controls/ACCT-9626/

  * Enable auditd to collect audit information [ACCT-9628] 
      https://cisofy.com/lynis/controls/ACCT-9628/

  * Determine if automation tools are present for system management [TOOL-5002] 
      https://cisofy.com/lynis/controls/TOOL-5002/

  * Consider restricting file permissions [FILE-7524] 
    - Details  : See screen output or log file
    - Solution : Use chmod to change file permissions
      https://cisofy.com/lynis/controls/FILE-7524/

  * Double check the permissions of home directories as some might be not strict enough. [HOME-9304] 
      https://cisofy.com/lynis/controls/HOME-9304/

  * One or more sysctl values differ from the scan profile and could be tweaked [KRNL-6000] 
    - Solution : Change sysctl value or disable test (skip-test=KRNL-6000:<sysctl-key>)
      https://cisofy.com/lynis/controls/KRNL-6000/

  * Harden compilers like restricting access to root user only [HRDN-7222] 
      https://cisofy.com/lynis/controls/HRDN-7222/
 
IMPORTANT: Please review your answers carefully before submitting to ensure that they are free of spelling and spacing errors. Incorrect spelling or incorrect spacing syntax will be marked as incorrect answers.
